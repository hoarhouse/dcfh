<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Test Page - Domus Communis Foundation</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%23333'/></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #fff;
        }

        .header {
            background: white;
            border-bottom: 1px solid #e5e5e5;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: 600;
            color: #333;
            text-decoration: none;
        }

        .logo-icon {
            width: 24px;
            height: 24px;
            background: #333;
            border-radius: 50%;
            margin-right: 8px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            text-decoration: none;
            color: #666;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .nav-menu a:hover {
            color: #333;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f0f0f0;
            color: #666;
            font-weight: 600;
            font-size: 0.75rem;
            transition: all 0.2s ease;
            box-sizing: border-box;
            overflow: hidden;
        }

        .user-avatar:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .user-dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            border: 1px solid #e5e5e5;
            min-width: 280px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .dropdown-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .dropdown-avatar {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #000, #333);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .dropdown-info {
            flex: 1;
            min-width: 0;
            overflow: hidden;
        }

        .dropdown-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 0.25rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .dropdown-email {
            font-size: 0.85rem;
            color: #666;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: #333;
            text-decoration: none;
            transition: all 0.2s ease;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
            color: #000;
        }

        .dropdown-icon {
            font-size: 1rem;
            width: 20px;
            text-align: center;
            flex-shrink: 0;
        }

        .dropdown-divider {
            height: 1px;
            background: #f0f0f0;
            margin: 0.5rem 0;
        }

        .logout-btn {
            color: #dc3545 !important;
        }

        .logout-btn:hover {
            background: #ffeef0 !important;
        }

        /* Login/Join buttons for logged out state */
        .login-btn, .join-btn {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .login-btn {
            color: #333;
        }

        .join-btn {
            background: #000;
            color: white;
            margin-left: 0.5rem;
        }

        .join-btn:hover {
            background: #333;
        }

        /* Breadcrumb - Matching initiative pages */
        .breadcrumb {
            background: #f8f9fa;
            padding: 1rem 0;
            border-bottom: 1px solid #e5e5e5;
        }

        .breadcrumb-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .breadcrumb-nav {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .breadcrumb-nav a {
            color: #333;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .breadcrumb-nav a:hover {
            color: #000;
        }

        .breadcrumb-separator {
            color: #999;
        }

        /* Hero Section - Matching initiative pages */
        .hero {
            padding: 0 2rem;
            background: transparent;
            margin-bottom: 4rem;
        }

        .hero-container {
            max-width: 1200px;
            margin: 2rem auto 0;
            padding: 3rem;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(195, 207, 226, 0.3);
            text-align: center;
        }

        .hero h1 {
            font-size: 2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            line-height: 1.3;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .hero-subtitle {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #546e7a;
            max-width: 800px;
            margin: 0 auto;
            font-weight: 400;
        }

        /* Main News Layout */
        .news-layout {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 3rem;
            margin-bottom: 4rem;
        }

        .news-main {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Article Cards - Matching initiative card styling */
        .article-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: row;
            position: relative;
        }

        .article-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .article-card:hover {
            transform: translateX(4px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
        }

        .article-card:hover::before {
            opacity: 1;
        }

        .article-image {
            width: 200px;
            min-height: 200px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .article-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .article-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
            font-size: 0.85rem;
        }

        .article-category {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 500;
        }

        .article-date {
            color: #999;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .article-title {
            font-size: 1.35rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        .article-excerpt {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }

        .article-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .article-author {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #666;
            font-size: 0.9rem;
        }

        .author-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .read-more {
            color: #4facfe;
            text-decoration: none;
            font-weight: 500;
            transition: transform 0.3s ease;
            display: inline-block;
        }

        .read-more:hover {
            transform: translateX(4px);
        }

        /* Sidebar */
        .news-sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar-section {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
        }

        .sidebar-title {
            font-size: 1.15rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .recent-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .recent-item {
            padding-bottom: 1rem;
            border-bottom: 1px solid #f8f9fa;
        }

        .recent-item:last-child {
            padding-bottom: 0;
            border-bottom: none;
        }

        .recent-title {
            display: block;
            color: #333;
            text-decoration: none;
            font-weight: 500;
            line-height: 1.4;
            margin-bottom: 0.25rem;
            transition: color 0.3s ease;
        }

        .recent-title:hover {
            color: #4facfe;
        }

        .recent-date {
            font-size: 0.85rem;
            color: #999;
        }

        .category-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .category-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            color: #666;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .category-item:hover {
            color: #4facfe;
            padding-left: 0.5rem;
        }

        .category-count {
            background: #f8f9fa;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.85rem;
            color: #999;
        }

        /* Newsletter Section */
        .newsletter-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            padding: 2rem;
            color: white;
            text-align: center;
        }

        .newsletter-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.5rem;
        }

        .newsletter-description {
            font-size: 0.95rem;
            color: white;
            opacity: 0.95;
            margin-bottom: 1.5rem;
        }

        .newsletter-form {
            display: flex;
            gap: 0.5rem;
        }

        .newsletter-input {
            flex: 1;
            padding: 0.75rem;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .newsletter-button {
            padding: 0.75rem 1.5rem;
            background: white;
            color: #764ba2;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .newsletter-button:hover {
            transform: translateY(-2px);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .news-layout {
                grid-template-columns: 1fr;
            }

            .news-sidebar {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 2rem;
            }
        }

        @media (max-width: 768px) {
            .article-card {
                flex-direction: column;
            }

            .article-image {
                width: 100%;
                height: 200px;
            }

            .hero h1 {
                font-size: 1.75rem;
            }

            .article-title {
                font-size: 1.15rem;
            }
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- DCF Modular System -->
    <script src="../js/dcf-core.js"></script>
    <script src="../js/dcf-ui.js"></script>
    <script src="../js/dcf-auth.js"></script>
    <script src="../js/dcf-init.js"></script>
</head>

<body>
    <header class="header">
        <nav class="nav-container">
            <a href="../index.html" class="logo">
                <div class="logo-icon"></div>
                Domus Communis Foundation
            </a>
            <ul class="nav-menu" id="navMenu">
                <!-- Populated by dcf-ui.js -->
            </ul>
            <div class="user-menu">
                <div class="user-dropdown">
                    <div class="user-avatar" onclick="toggleUserMenu()" id="userAvatar"></div>
                    <div class="dropdown-menu" id="userDropdown">
                        <div class="dropdown-header">
                            <div class="dropdown-avatar"></div>
                            <div class="dropdown-info">
                                <div class="dropdown-name" id="dropdownUserName"></div>
                                <div class="dropdown-email" id="dropdownUserEmail"></div>
                            </div>
                        </div>
                        <!-- Navigation will be dynamically generated by dcf-unified-auth.js -->
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="breadcrumb">
        <div class="breadcrumb-container">
            <nav class="breadcrumb-nav">
                <a href="../index.html">Home</a>
                <span class="breadcrumb-separator">›</span>
                <span>News & Updates</span>
            </nav>
        </div>
    </div>

    <section class="hero">
        <div class="hero-container">
            <h1>Latest News & Updates</h1>
            <p class="hero-subtitle">
                Stay informed about our latest initiatives, research breakthroughs, 
                and global impact in advancing ethical AI development and human dignity in technology.
            </p>
        </div>
    </section>

    <div class="news-layout">
        <main class="news-main">
            <!-- Article 1 -->
            <article class="article-card">
                <div class="article-image" data-icon="news" data-size="large" aria-label="News"></div>
                <div class="article-content">
                    <div class="article-meta">
                        <span class="article-category">AI Ethics</span>
                        <span class="article-date">December 15, 2024</span>
                    </div>
                    <h2 class="article-title">Vatican AI Ethics Framework Adopted by Major Tech Companies</h2>
                    <p class="article-excerpt">
                        In a landmark agreement, leading technology companies including Microsoft, IBM, and Google have formally adopted the Vatican's Rome Call for AI Ethics framework. This historic commitment ensures AI development aligns with human dignity and common good principles.
                    </p>
                    <div class="article-footer">
                        <div class="article-author">
                            <div class="author-avatar">MS</div>
                            <span>Dr. Maria Santos</span>
                        </div>
                        <a href="#" class="read-more">Read More →</a>
                    </div>
                </div>
            </article>

            <!-- Article 2 -->
            <article class="article-card">
                <div class="article-image" data-icon="research" data-size="large" aria-label="Research"></div>
                <div class="article-content">
                    <div class="article-meta">
                        <span class="article-category">Research</span>
                        <span class="article-date">December 12, 2024</span>
                    </div>
                    <h2 class="article-title">DCF Research Team Publishes Breakthrough Study on Algorithmic Bias</h2>
                    <p class="article-excerpt">
                        Our research division has released groundbreaking findings on detecting and mitigating bias in medical AI systems. The study, published in Nature Medicine, provides practical frameworks for ensuring equitable healthcare AI deployment across diverse populations.
                    </p>
                    <div class="article-footer">
                        <div class="article-author">
                            <div class="author-avatar">JC</div>
                            <span>Prof. John Chen</span>
                        </div>
                        <a href="#" class="read-more">Read More →</a>
                    </div>
                </div>
            </article>

            <!-- Article 3 -->
            <article class="article-card">
                <div class="article-image" data-icon="globe" data-size="large" aria-label="Global"></div>
                <div class="article-content">
                    <div class="article-meta">
                        <span class="article-category">Global Policy</span>
                        <span class="article-date">December 8, 2024</span>
                    </div>
                    <h2 class="article-title">EU Adopts DCF Recommendations for AI Act Implementation</h2>
                    <p class="article-excerpt">
                        The European Union has incorporated key recommendations from DCF's policy team into the official implementation guidelines for the AI Act. These guidelines emphasize transparency, accountability, and human oversight in high-risk AI applications.
                    </p>
                    <div class="article-footer">
                        <div class="article-author">
                            <div class="author-avatar">AB</div>
                            <span>Anna Bergström</span>
                        </div>
                        <a href="#" class="read-more">Read More →</a>
                    </div>
                </div>
            </article>

            <!-- Article 4 -->
            <article class="article-card">
                <div class="article-image" data-icon="partnership" data-size="large" aria-label="Partnership"></div>
                <div class="article-content">
                    <div class="article-meta">
                        <span class="article-category">Partnerships</span>
                        <span class="article-date">November 28, 2024</span>
                    </div>
                    <h2 class="article-title">DCF Partners with UNESCO on Global AI Ethics Education</h2>
                    <p class="article-excerpt">
                        A new partnership with UNESCO will bring AI ethics education to universities across 50 countries. The initiative aims to ensure the next generation of technologists understands the moral and social implications of their work.
                    </p>
                    <div class="article-footer">
                        <div class="article-author">
                            <div class="author-avatar">LR</div>
                            <span>Laura Rodriguez</span>
                        </div>
                        <a href="#" class="read-more">Read More →</a>
                    </div>
                </div>
            </article>

            <!-- Article 5 -->
            <article class="article-card">
                <div class="article-image" data-icon="community" data-size="large" aria-label="Community"></div>
                <div class="article-content">
                    <div class="article-meta">
                        <span class="article-category">Community</span>
                        <span class="article-date">November 22, 2024</span>
                    </div>
                    <h2 class="article-title">DCF Community Reaches 10,000 Members Milestone</h2>
                    <p class="article-excerpt">
                        We're thrilled to announce that our global community has grown to over 10,000 members across 75 countries. This milestone reflects the growing recognition of the need for ethical guidance in technology development worldwide.
                    </p>
                    <div class="article-footer">
                        <div class="article-author">
                            <div class="author-avatar">MG</div>
                            <span>Michael Green</span>
                        </div>
                        <a href="#" class="read-more">Read More →</a>
                    </div>
                </div>
            </article>
        </main>

        <aside class="news-sidebar">
            <!-- Recent Articles -->
            <div class="sidebar-section">
                <h3 class="sidebar-title">Recent Articles</h3>
                <div class="recent-list">
                    <div class="recent-item">
                        <a href="#" class="recent-title">Vatican AI Ethics Framework Adopted</a>
                        <span class="recent-date">December 15, 2024</span>
                    </div>
                    <div class="recent-item">
                        <a href="#" class="recent-title">Breakthrough Study on Algorithmic Bias</a>
                        <span class="recent-date">December 12, 2024</span>
                    </div>
                    <div class="recent-item">
                        <a href="#" class="recent-title">EU Adopts DCF Recommendations</a>
                        <span class="recent-date">December 8, 2024</span>
                    </div>
                    <div class="recent-item">
                        <a href="#" class="recent-title">UNESCO Partnership Announced</a>
                        <span class="recent-date">November 28, 2024</span>
                    </div>
                </div>
            </div>

            <!-- Categories -->
            <div class="sidebar-section">
                <h3 class="sidebar-title">Categories</h3>
                <div class="category-list">
                    <a href="#" class="category-item">
                        <span>AI Ethics</span>
                        <span class="category-count">12</span>
                    </a>
                    <a href="#" class="category-item">
                        <span>Research</span>
                        <span class="category-count">8</span>
                    </a>
                    <a href="#" class="category-item">
                        <span>Global Policy</span>
                        <span class="category-count">6</span>
                    </a>
                    <a href="#" class="category-item">
                        <span>Partnerships</span>
                        <span class="category-count">5</span>
                    </a>
                    <a href="#" class="category-item">
                        <span>Community</span>
                        <span class="category-count">9</span>
                    </a>
                </div>
            </div>

            <!-- Newsletter -->
            <div class="sidebar-section newsletter-section">
                <h3 class="newsletter-title">Stay Updated</h3>
                <p class="newsletter-description">Get the latest news and insights delivered to your inbox</p>
                <form class="newsletter-form">
                    <input type="email" class="newsletter-input" placeholder="Your email" required>
                    <button type="submit" class="newsletter-button">Subscribe</button>
                </form>
            </div>
        </aside>
    </div>

    <script>
        // Test page validation
        window.addEventListener('load', function() {
            console.log('=== NEWS TEST PAGE LOADED ===');
            
            // Check critical functions
            setTimeout(() => {
                console.log('Testing page components:');
                console.log('1. toggleUserMenu exists:', typeof window.toggleUserMenu);
                console.log('2. dcfUser object:', window.dcfUser);
                console.log('3. Avatar element:', document.getElementById('userAvatar'));
                console.log('4. Dropdown element:', document.getElementById('userDropdown'));
                console.log('5. Nav menu element:', document.getElementById('navMenu'));
                
                // Test avatar click handler
                const avatar = document.getElementById('userAvatar');
                if (avatar) {
                    console.log('6. Avatar onclick:', avatar.onclick);
                    console.log('7. Avatar display:', getComputedStyle(avatar).display);
                    console.log('8. Avatar cursor:', getComputedStyle(avatar).cursor);
                }
                
                console.log('=== END TEST PAGE VALIDATION ===');
            }, 2000);
        });
    </script>
</body>
</html>