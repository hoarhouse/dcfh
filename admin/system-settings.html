<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Settings - DCF Hungary Admin</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%23333'/></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header Styles */
        .header {
            background: white;
            border-bottom: 1px solid #e5e5e5;
            padding: 1rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .nav-container, .admin-nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        /* Main Content */
        .main-container {
            flex: 1;
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-header {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .page-title {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .page-description {
            color: #666;
            font-size: 1rem;
        }

        /* Settings Layout */
        .settings-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
        }

        /* Settings Sidebar */
        .settings-sidebar {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            height: fit-content;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .settings-nav {
            list-style: none;
        }

        .settings-nav-item {
            margin-bottom: 0.25rem;
        }

        .settings-nav-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: #666;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .settings-nav-link:hover {
            background: #f8f9fa;
            color: #333;
        }

        .settings-nav-link.active {
            background: #f0f0f0;
            color: #333;
            font-weight: 500;
        }

        .settings-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Settings Content */
        .settings-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .settings-section {
            display: none;
        }

        .settings-section.active {
            display: block;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
        }

        .section-description {
            color: #666;
            margin-bottom: 2rem;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
            font-size: 0.9rem;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e5e5e5;
            border-radius: 6px;
            font-size: 0.95rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #333;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-help {
            margin-top: 0.25rem;
            font-size: 0.85rem;
            color: #666;
        }

        /* Toggle Switch */
        .toggle-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .toggle-info {
            flex: 1;
        }

        .toggle-label {
            font-weight: 500;
            color: #333;
            margin-bottom: 0.25rem;
        }

        .toggle-description {
            font-size: 0.85rem;
            color: #666;
        }

        .toggle-switch {
            position: relative;
            width: 48px;
            height: 24px;
        }

        .toggle-switch input {
            display: none;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: #333;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #333;
            color: white;
        }

        .btn-primary:hover {
            background: #000;
        }

        .btn-secondary {
            background: white;
            color: #333;
            border: 1px solid #e5e5e5;
        }

        .btn-secondary:hover {
            background: #f8f9fa;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e5e5;
        }

        /* Alert Messages */
        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }

        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }

        .alert-warning {
            background: #fed7aa;
            color: #92400e;
            border: 1px solid #fdba74;
        }

        .alert-danger {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }
    </style>
    <script src="../js/dcf-unified-auth.js"></script>
</head>
<body>
    <header class="header">
        <!-- Navigation will be populated by dcf-unified-auth.js -->
    </header>

    <div class="main-container">
        <div class="page-header">
            <h1 class="page-title">System Settings</h1>
            <p class="page-description">Configure system-wide settings and preferences</p>
        </div>

        <div class="settings-layout">
            <!-- Settings Sidebar -->
            <div class="settings-sidebar">
                <ul class="settings-nav">
                    <li class="settings-nav-item">
                        <a href="#general" class="settings-nav-link active" onclick="showSection('general')">
                            <span class="settings-icon">‚öôÔ∏è</span>
                            <span>General</span>
                        </a>
                    </li>
                    <li class="settings-nav-item">
                        <a href="#security" class="settings-nav-link" onclick="showSection('security')">
                            <span class="settings-icon">üîí</span>
                            <span>Security</span>
                        </a>
                    </li>
                    <li class="settings-nav-item">
                        <a href="#email" class="settings-nav-link" onclick="showSection('email')">
                            <span class="settings-icon">üìß</span>
                            <span>Email</span>
                        </a>
                    </li>
                    <li class="settings-nav-item">
                        <a href="#notifications" class="settings-nav-link" onclick="showSection('notifications')">
                            <span class="settings-icon">üîî</span>
                            <span>Notifications</span>
                        </a>
                    </li>
                    <li class="settings-nav-item">
                        <a href="#api" class="settings-nav-link" onclick="showSection('api')">
                            <span class="settings-icon">üîå</span>
                            <span>API Settings</span>
                        </a>
                    </li>
                    <li class="settings-nav-item">
                        <a href="#backup" class="settings-nav-link" onclick="showSection('backup')">
                            <span class="settings-icon">üíæ</span>
                            <span>Backup</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Settings Content -->
            <div class="settings-content">
                <!-- General Settings -->
                <div id="general-section" class="settings-section active">
                    <h2 class="section-title">General Settings</h2>
                    <p class="section-description">Configure basic system settings and preferences</p>

                    <div class="form-group">
                        <label class="form-label">Site Name</label>
                        <input type="text" class="form-input" value="Domus Communis Foundation Hungary">
                        <p class="form-help">The name of your website displayed in the browser tab and emails</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Site URL</label>
                        <input type="url" class="form-input" value="https://dcfhungary.org">
                        <p class="form-help">Your website's primary URL</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Admin Email</label>
                        <input type="email" class="form-input" value="admin@dcfhungary.org">
                        <p class="form-help">Primary contact email for system notifications</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Timezone</label>
                        <select class="form-select">
                            <option>Europe/Budapest (GMT+1)</option>
                            <option>UTC (GMT+0)</option>
                            <option>America/New_York (GMT-5)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Language</label>
                        <select class="form-select">
                            <option>English</option>
                            <option>Hungarian</option>
                            <option>German</option>
                        </select>
                    </div>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">Maintenance Mode</div>
                            <div class="toggle-description">Show maintenance page to visitors</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">Save Changes</button>
                        <button class="btn btn-secondary" onclick="resetSettings()">Reset</button>
                    </div>
                </div>

                <!-- Security Settings -->
                <div id="security-section" class="settings-section">
                    <h2 class="section-title">Security Settings</h2>
                    <p class="section-description">Manage security features and access controls</p>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">Two-Factor Authentication</div>
                            <div class="toggle-description">Require 2FA for all admin accounts</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">Session Timeout</div>
                            <div class="toggle-description">Automatically log out inactive users</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Session Timeout Duration</label>
                        <select class="form-select">
                            <option>15 minutes</option>
                            <option selected>30 minutes</option>
                            <option>1 hour</option>
                            <option>2 hours</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Password Requirements</label>
                        <div style="margin-top: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem;">
                                <input type="checkbox" checked> Minimum 8 characters
                            </label>
                            <label style="display: block; margin-bottom: 0.5rem;">
                                <input type="checkbox" checked> Require uppercase letter
                            </label>
                            <label style="display: block; margin-bottom: 0.5rem;">
                                <input type="checkbox" checked> Require lowercase letter
                            </label>
                            <label style="display: block; margin-bottom: 0.5rem;">
                                <input type="checkbox" checked> Require number
                            </label>
                            <label style="display: block; margin-bottom: 0.5rem;">
                                <input type="checkbox"> Require special character
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">Save Changes</button>
                        <button class="btn btn-secondary" onclick="resetSettings()">Reset</button>
                    </div>
                </div>

                <!-- Email Settings -->
                <div id="email-section" class="settings-section">
                    <h2 class="section-title">Email Settings</h2>
                    <p class="section-description">Configure email delivery and templates</p>

                    <div class="form-group">
                        <label class="form-label">SMTP Host</label>
                        <input type="text" class="form-input" placeholder="smtp.gmail.com">
                    </div>

                    <div class="form-group">
                        <label class="form-label">SMTP Port</label>
                        <input type="number" class="form-input" value="587">
                    </div>

                    <div class="form-group">
                        <label class="form-label">SMTP Username</label>
                        <input type="text" class="form-input" placeholder="your-email@gmail.com">
                    </div>

                    <div class="form-group">
                        <label class="form-label">SMTP Password</label>
                        <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>

                    <div class="form-group">
                        <label class="form-label">From Email</label>
                        <input type="email" class="form-input" value="noreply@dcfhungary.org">
                    </div>

                    <div class="form-group">
                        <label class="form-label">From Name</label>
                        <input type="text" class="form-input" value="DCF Hungary">
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">Save Changes</button>
                        <button class="btn btn-secondary" onclick="testEmail()">Send Test Email</button>
                    </div>
                </div>

                <!-- Notifications Settings -->
                <div id="notifications-section" class="settings-section">
                    <h2 class="section-title">Notification Settings</h2>
                    <p class="section-description">Manage system notifications and alerts</p>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">New User Registration</div>
                            <div class="toggle-description">Send email when new users register</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">Blog Post Comments</div>
                            <div class="toggle-description">Notify when new comments are posted</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">System Updates</div>
                            <div class="toggle-description">Alert about available system updates</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">Security Alerts</div>
                            <div class="toggle-description">Notify about security events</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">Save Changes</button>
                        <button class="btn btn-secondary" onclick="resetSettings()">Reset</button>
                    </div>
                </div>

                <!-- API Settings -->
                <div id="api-section" class="settings-section">
                    <h2 class="section-title">API Settings</h2>
                    <p class="section-description">Manage API keys and integrations</p>

                    <div class="alert alert-info">
                        API access allows external applications to interact with your system. Handle API keys with care.
                    </div>

                    <div class="form-group">
                        <label class="form-label">API Key</label>
                        <div style="display: flex; gap: 1rem;">
                            <input type="text" class="form-input" value="sk_live_‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" readonly>
                            <button class="btn btn-secondary" onclick="regenerateAPIKey()">Regenerate</button>
                        </div>
                        <p class="form-help">Keep this key secret. Regenerating will invalidate the current key.</p>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Webhook URL</label>
                        <input type="url" class="form-input" placeholder="https://your-webhook-endpoint.com">
                        <p class="form-help">URL to receive webhook notifications</p>
                    </div>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">Enable API Access</div>
                            <div class="toggle-description">Allow API requests to your system</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">Save Changes</button>
                        <button class="btn btn-secondary" onclick="testAPI()">Test Connection</button>
                    </div>
                </div>

                <!-- Backup Settings -->
                <div id="backup-section" class="settings-section">
                    <h2 class="section-title">Backup & Restore</h2>
                    <p class="section-description">Manage system backups and data recovery</p>

                    <div class="alert alert-warning">
                        Last backup: December 20, 2024 at 3:00 AM
                    </div>

                    <div class="toggle-group">
                        <div class="toggle-info">
                            <div class="toggle-label">Automatic Backups</div>
                            <div class="toggle-description">Perform daily automatic backups</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Backup Schedule</label>
                        <select class="form-select">
                            <option>Every 6 hours</option>
                            <option>Every 12 hours</option>
                            <option selected>Daily</option>
                            <option>Weekly</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Backup Retention</label>
                        <select class="form-select">
                            <option>7 days</option>
                            <option>14 days</option>
                            <option selected>30 days</option>
                            <option>90 days</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="createBackup()">Create Backup Now</button>
                        <button class="btn btn-secondary" onclick="restoreBackup()">Restore from Backup</button>
                        <button class="btn btn-danger" onclick="clearBackups()">Clear Old Backups</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Show selected settings section
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.settings-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active from all nav links
            document.querySelectorAll('.settings-nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName + '-section').classList.add('active');
            
            // Set active nav link
            event.target.closest('.settings-nav-link').classList.add('active');
        }

        // Settings functions
        function saveSettings() {
            alert('Settings saved successfully!');
        }

        function resetSettings() {
            if (confirm('Are you sure you want to reset to default settings?')) {
                alert('Settings reset to defaults');
            }
        }

        function testEmail() {
            alert('Test email sent to admin@dcfhungary.org');
        }

        function regenerateAPIKey() {
            if (confirm('Are you sure? This will invalidate your current API key.')) {
                alert('New API key generated');
            }
        }

        function testAPI() {
            alert('API connection test successful');
        }

        function createBackup() {
            alert('Creating backup... This may take a few minutes.');
        }

        function restoreBackup() {
            if (confirm('Are you sure? This will overwrite current data.')) {
                alert('Restore process started');
            }
        }

        function clearBackups() {
            if (confirm('Are you sure you want to delete old backups?')) {
                alert('Old backups cleared');
            }
        }
    </script>
</body>
</html>