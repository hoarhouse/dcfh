<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Event - DCF Hungary</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .header {
            background: white;
            border-bottom: 1px solid #e5e5e5;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: 600;
            color: #333;
            text-decoration: none;
        }

        .logo-icon {
            width: 24px;
            height: 24px;
            background: #333;
            border-radius: 50%;
            margin-right: 8px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            text-decoration: none;
            color: #666;
            font-size: 0.9rem;
            position: relative;
        }

        .nav-menu a.active {
            color: #333;
            font-weight: 600;
        }

        .nav-menu a:hover {
            color: #333;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

       .user-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #000, #333);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .user-avatar:hover {
            transform: scale(1.05);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .user-menu {
            position: relative;
        }

        .user-dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            border: 1px solid #e5e5e5;
            min-width: 280px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .dropdown-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .dropdown-avatar {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #000, #333);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .dropdown-info {
            flex: 1;
            min-width: 0;
        }

        .dropdown-name {
            font-weight: 600;
            color: #333;
            font-size: 1rem;
            margin-bottom: 0.25rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .dropdown-email {
            color: #666;
            font-size: 0.85rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .dropdown-divider {
            height: 1px;
            background: #f0f0f0;
            margin: 0.5rem 0;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: #333;
            text-decoration: none;
            transition: all 0.2s ease;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
            color: #000;
        }

        .logout-btn {
            color: #dc3545 !important;
            font-weight: 500;
        }

        .logout-btn:hover {
            background: #fee !important;
            color: #c82333 !important;
        }

        .dropdown-icon {
            font-size: 1rem;
            width: 20px;
            text-align: center;
            flex-shrink: 0;
        }

        .dropdown-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 999;
            display: none;
        }

        .dropdown-overlay.active {
            display: block;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
        }

        .main-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .back-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #333;
        }

        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
        }

        .page-subtitle {
            color: #666;
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 2rem;
        }

        .main-content {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .form-container {
            padding: 2rem;
        }

        .form-section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e5e5e5;
        }

        .section-description {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .form-label.required::after {
            content: " *";
            color: #dc3545;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #333;
        }

        .form-input.error {
            border-color: #dc3545;
        }

        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .form-select:focus {
            outline: none;
            border-color: #333;
        }

        .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            font-size: 1rem;
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #333;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
        }

        .form-help {
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.25rem;
        }

        .form-error {
            font-size: 0.8rem;
            color: #dc3545;
            margin-top: 0.25rem;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-item label {
            font-weight: normal;
            cursor: pointer;
        }

        .file-upload-area {
            border: 2px dashed #e5e5e5;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }

        .file-upload-area:hover {
            border-color: #333;
            background: #f8f9fa;
        }

        .file-upload-area.dragover {
            border-color: #333;
            background: #f0f0f0;
        }

        .upload-icon {
            font-size: 3rem;
            color: #ccc;
            margin-bottom: 1rem;
        }

        .upload-text {
            color: #666;
            margin-bottom: 0.5rem;
        }

        .upload-hint {
            color: #999;
            font-size: 0.9rem;
        }

        .tag-input-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            padding: 0.5rem;
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            min-height: 50px;
            cursor: text;
        }

        .tag-input-container:focus-within {
            border-color: #333;
        }

        .tag-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #f8f9fa;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid #e5e5e5;
        }

        .tag-remove {
            cursor: pointer;
            color: #666;
            font-weight: 600;
        }

        .tag-remove:hover {
            color: #dc3545;
        }

        .tag-input {
            border: none;
            outline: none;
            flex: 1;
            min-width: 120px;
            padding: 0.25rem;
            font-size: 0.9rem;
        }

        .speaker-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .speaker-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .speaker-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #e5e5e5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .speaker-info {
            flex: 1;
        }

        .speaker-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 0.25rem;
        }

        .speaker-title {
            color: #666;
            font-size: 0.9rem;
        }

        .speaker-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .btn-primary {
            background: #000;
            color: white;
        }

        .btn-primary:hover {
            background: #333;
        }

        .btn-secondary {
            background: transparent;
            color: #666;
            border: 2px solid #e5e5e5;
        }

        .btn-secondary:hover {
            color: #333;
            border-color: #333;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }

        .btn-large {
            padding: 1rem 2rem;
            font-size: 1rem;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e5e5;
        }

        .form-actions-left {
            display: flex;
            gap: 1rem;
        }

        .form-actions-right {
            display: flex;
            gap: 1rem;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .sidebar-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .sidebar-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
        }

        .tips-list {
            list-style: none;
            margin-bottom: 1rem;
        }

        .tips-list li {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            color: #666;
            font-size: 0.9rem;
        }

        .tips-list li::before {
            content: "💡";
            flex-shrink: 0;
        }

        .event-templates {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .template-item {
            padding: 1rem;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .template-item:hover {
            border-color: #333;
            background: #f8f9fa;
        }

        .template-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .template-description {
            color: #666;
            font-size: 0.9rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e5e5;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #000, #333);
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            font-size: 0.9rem;
            color: #666;
        }

        .validation-summary {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .validation-summary h4 {
            color: #856404;
            margin-bottom: 0.5rem;
        }

        .validation-summary ul {
            list-style: none;
            color: #856404;
        }

        .validation-summary li {
            margin-bottom: 0.25rem;
        }

        .validation-summary li::before {
            content: "⚠️ ";
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .preview-card {
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .preview-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .preview-meta {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .preview-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .preview-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .preview-tag {
            background: #f8f9fa;
            color: #666;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            border: 1px solid #e5e5e5;
        }

        @media (max-width: 1024px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }

            .sidebar {
                order: 1;
            }

            .main-content {
                order: 2;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .form-row-3 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 0 1rem;
            }

            .nav-menu {
                display: none;
            }

            .form-container {
                padding: 1.5rem;
            }

            .form-actions {
                flex-direction: column;
            }

            .form-actions-left,
            .form-actions-right {
                justify-content: stretch;
            }

            .page-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon"></div>
                Domus Communis Foundation Hungary
            </a>
            <ul class="nav-menu">
                <li><a href="dcf_member_home.html">Home</a></li>
                <li><a href="dcf_members_directory.html">Members</a></li>
                <li><a href="dcf_projects_home.html">Projects</a></li>
                <li><a href="dcf_events_calendar.html" class="active">Events</a></li>
                <li><a href="dcf_resources_library.html">Resources</a></li>
            </ul>
            <div class="user-menu">
    <div class="user-dropdown">
        <div class="user-avatar" onclick="toggleUserMenu()" id="userAvatar">SJ</div>
        <div class="dropdown-menu" id="userDropdown">
            <div class="dropdown-header">
                <div class="dropdown-avatar">SJ</div>
                <div class="dropdown-info">
                    <div class="dropdown-name" id="dropdownUserName">Dr. Sarah Johnson</div>
                    <div class="dropdown-email" id="dropdownUserEmail">sarah.johnson@dcfhungary.org</div>
                </div>
            </div>
            <div class="dropdown-divider"></div>
            <a href="dcf_member_profile.html" class="dropdown-item">
                <span class="dropdown-icon">👤</span>
                View Profile
            </a>
            <a href="dcf_settings.html" class="dropdown-item">
                <span class="dropdown-icon">⚙️</span>
                Settings
            </a>
            <a href="dcf_contact.html" class="dropdown-item">
                <span class="dropdown-icon">💬</span>
                Help & Support
            </a>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item logout-btn" onclick="logout()">
                <span class="dropdown-icon">🚪</span>
                Sign Out
            </button>
        </div>
    </div>
</div>
        </nav>
    </header>

    <main class="main-container">
        <a href="dcf_events_calendar.html" class="back-link">← Back to Events Calendar</a>

        <div class="page-header">
            <h1 class="page-title">Create New Event</h1>
            <p class="page-subtitle">
                Organize workshops, conferences, and community gatherings that advance ethical AI and human-centered technology
            </p>
        </div>

        <div class="content-wrapper">
            <div class="main-content">
                <div class="form-container">
                    <form id="eventCreationForm">
                        <!-- Basic Information Section -->
                        <div class="form-section">
                            <h2 class="section-title">Basic Information</h2>
                            <p class="section-description">Provide essential details about your event</p>

                            <div class="form-group">
                                <label class="form-label required" for="eventTitle">Event Title</label>
                                <input type="text" id="eventTitle" class="form-input" placeholder="Enter a clear, descriptive title" required>
                                <div class="form-help">Use a title that clearly communicates the event's purpose and target audience</div>
                            </div>

                            <div class="form-group">
                                <label class="form-label required" for="eventDescription">Event Description</label>
                                <textarea id="eventDescription" class="form-textarea" placeholder="Describe your event, its goals, target audience, and what participants can expect to learn or achieve..." required></textarea>
                                <div class="form-help">Include learning objectives, key topics, and benefits for attendees</div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label required" for="eventType">Event Type</label>
                                    <select id="eventType" class="form-select" required>
                                        <option value="">Select event type</option>
                                        <option value="workshop">Workshop</option>
                                        <option value="conference">Conference</option>
                                        <option value="webinar">Webinar</option>
                                        <option value="meeting">Meeting</option>
                                        <option value="networking">Networking Event</option>
                                        <option value="symposium">Symposium</option>
                                        <option value="training">Training Session</option>
                                        <option value="panel">Panel Discussion</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label required" for="eventFormat">Event Format</label>
                                    <select id="eventFormat" class="form-select" required>
                                        <option value="">Select format</option>
                                        <option value="virtual">Virtual/Online</option>
                                        <option value="in-person">In-Person</option>
                                        <option value="hybrid">Hybrid (Virtual + In-Person)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Event Topics</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="topic-ai-ethics" name="topics" value="ai-ethics">
                                        <label for="topic-ai-ethics">AI Ethics</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="topic-social-teaching" name="topics" value="social-teaching">
                                        <label for="topic-social-teaching">Catholic Social Teaching</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="topic-technology" name="topics" value="technology">
                                        <label for="topic-technology">Technology Development</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="topic-education" name="topics" value="education">
                                        <label for="topic-education">Education</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="topic-policy" name="topics" value="policy">
                                        <label for="topic-policy">Policy & Governance</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="topic-research" name="topics" value="research">
                                        <label for="topic-research">Research</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="eventTags">Custom Tags</label>
                                <div class="tag-input-container" id="tagContainer">
                                    <input type="text" class="tag-input" id="tagInput" placeholder="Add tags and press Enter">
                                </div>
                                <div class="form-help">Add relevant keywords to help people find your event</div>
                            </div>
                        </div>

                        <!-- Date, Time & Location Section -->
                        <div class="form-section">
                            <h2 class="section-title">Date, Time & Location</h2>
                            <p class="section-description">Schedule your event and set the location details</p>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label required" for="eventDate">Event Date</label>
                                    <input type="date" id="eventDate" class="form-input" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label required" for="eventTime">Start Time</label>
                                    <input type="time" id="eventTime" class="form-input" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="eventDuration">Duration (hours)</label>
                                    <input type="number" id="eventDuration" class="form-input" min="0.5" max="24" step="0.5" placeholder="2.0">
                                </div>
                                <div class="form-group">
                                    <label class="form-label required" for="eventTimezone">Timezone</label>
                                    <select id="eventTimezone" class="form-select" required>
                                        <option value="">Select timezone</option>
                                        <option value="EST">Eastern Time (EST)</option>
                                        <option value="CET">Central European Time (CET)</option>
                                        <option value="GMT">Greenwich Mean Time (GMT)</option>
                                        <option value="PST">Pacific Time (PST)</option>
                                        <option value="JST">Japan Standard Time (JST)</option>
                                        <option value="IST">India Standard Time (IST)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="eventLocation">Location/Platform</label>
                                <input type="text" id="eventLocation" class="form-input" placeholder="Physical address, Zoom link, or platform name">
                                <div class="form-help">For virtual events, you can add the platform details here or in the description</div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="eventCapacity">Maximum Attendees</label>
                                    <input type="number" id="eventCapacity" class="form-input" min="1" placeholder="50">
                                    <div class="form-help">Leave blank for unlimited capacity</div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="eventLanguage">Primary Language</label>
                                    <select id="eventLanguage" class="form-select">
                                        <option value="">Select language</option>
                                        <option value="en">English</option>
                                        <option value="hu">Hungarian</option>
                                        <option value="es">Spanish</option>
                                        <option value="fr">French</option>
                                        <option value="de">German</option>
                                        <option value="it">Italian</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Registration & Access Section -->
                        <div class="form-section">
                            <h2 class="section-title">Registration & Access</h2>
                            <p class="section-description">Configure how people can register and attend your event</p>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label required" for="registrationRequired">Registration Required</label>
                                    <select id="registrationRequired" class="form-select" required>
                                        <option value="">Select option</option>
                                        <option value="required">Required</option>
                                        <option value="optional">Optional</option>
                                        <option value="none">No Registration</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="registrationDeadline">Registration Deadline</label>
                                    <input type="date" id="registrationDeadline" class="form-input">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="eventCost">Event Cost</label>
                                    <select id="eventCost" class="form-select">
                                        <option value="free">Free</option>
                                        <option value="dcf-members">Free for DCF Members</option>
                                        <option value="paid">Paid Event</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="eventPrice">Price (if paid)</label>
                                    <input type="number" id="eventPrice" class="form-input" min="0" step="0.01" placeholder="0.00">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Target Audience</label>
                                <div class="checkbox-group">
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="audience-researchers" name="audience" value="researchers">
                                        <label for="audience-researchers">Researchers</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="audience-developers" name="audience" value="developers">
                                        <label for="audience-developers">Developers</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="audience-educators" name="audience" value="educators">
                                        <label for="audience-educators">Educators</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="audience-policymakers" name="audience" value="policymakers">
                                        <label for="audience-policymakers">Policy Makers</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="audience-students" name="audience" value="students">
                                        <label for="audience-students">Students</label>
                                    </div>
                                    <div class="checkbox-item">
                                        <input type="checkbox" id="audience-general" name="audience" value="general">
                                        <label for="audience-general">General Public</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="prerequisites">Prerequisites</label>
                                <textarea id="prerequisites" class="form-textarea" placeholder="List any required knowledge, skills, or materials attendees should have..."></textarea>
                            </div>
                        </div>

                        <!-- Speakers & Organizers Section -->
                        <div class="form-section">
                            <h2 class="section-title">Speakers & Organizers</h2>
                            <p class="section-description">Add speakers and co-organizers for your event</p>

                            <div class="form-group">
                                <label class="form-label">Event Speakers</label>
                                <div class="speaker-list" id="speakerList">
                                    <!-- Speakers will be added here dynamically -->
                                </div>
                                <button type="button" class="btn btn-secondary" onclick="addSpeaker()">+ Add Speaker</button>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="coOrganizers">Co-Organizers</label>
                                <input type="text" id="coOrganizers" class="form-input" placeholder="Enter email addresses of co-organizers (comma-separated)">
                                <div class="form-help">Co-organizers will receive edit permissions for this event</div>
                            </div>
                        </div>

                        <!-- Additional Resources Section -->
                        <div class="form-section">
                            <h2 class="section-title">Additional Resources</h2>
                            <p class="section-description">Upload materials and provide additional information</p>

                            <div class="form-group">
                                <label class="form-label" for="eventAgenda">Detailed Agenda</label>
                                <textarea id="eventAgenda" class="form-textarea" placeholder="Provide a detailed schedule including times, topics, and speakers..."></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Event Materials</label>
                                <div class="file-upload-area" id="fileUpload">
                                    <div class="upload-icon">📎</div>
                                    <div class="upload-text">Click to upload or drag and drop files</div>
                                    <div class="upload-hint">Supported formats: PDF, DOC, PPT, Images (max 10MB each)</div>
                                    <input type="file" id="materialFiles" style="display: none;" multiple accept=".pdf,.doc,.docx,.ppt,.pptx,.jpg,.jpeg,.png">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="additionalInfo">Additional Information</label>
                                <textarea id="additionalInfo" class="form-textarea" placeholder="Any other details attendees should know (accessibility, technical requirements, etc.)..."></textarea>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="form-actions">
                            <div class="form-actions-left">
                                <button type="button" class="btn btn-secondary" onclick="saveAsDraft()">💾 Save as Draft</button>
                                <button type="button" class="btn btn-secondary" onclick="previewEvent()">👁️ Preview</button>
                            </div>
                            <div class="form-actions-right">
                                <button type="button" class="btn btn-secondary" onclick="cancelEvent()">Cancel</button>
                                <button type="submit" class="btn btn-primary btn-large">🚀 Create Event</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="sidebar">
                <div class="sidebar-card">
                    <h3 class="sidebar-title">Creation Progress</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                    </div>
                    <div class="progress-text" id="progressText">0% Complete</div>
                </div>

                <div class="sidebar-card">
                    <h3 class="sidebar-title">Event Creation Tips</h3>
                    <ul class="tips-list">
                        <li>Use clear, descriptive titles that explain the event's purpose</li>
                        <li>Include specific learning outcomes in your description</li>
                        <li>Set registration deadlines at least 48 hours before the event</li>
                        <li>Upload agenda and materials in advance to boost attendance</li>
                        <li>Consider time zones when scheduling global events</li>
                        <li>Add relevant tags to help people discover your event</li>
                    </ul>
                </div>

                <div class="sidebar-card">
                    <h3 class="sidebar-title">Event Templates</h3>
                    <div class="event-templates">
                        <div class="template-item" onclick="applyTemplate('workshop')">
                            <div class="template-title">Workshop Template</div>
                            <div class="template-description">Interactive learning session with hands-on activities</div>
                        </div>
                        <div class="template-item" onclick="applyTemplate('webinar')">
                            <div class="template-title">Webinar Template</div>
                            <div class="template-description">Online presentation with Q&A session</div>
                        </div>
                        <div class="template-item" onclick="applyTemplate('conference')">
                            <div class="template-title">Conference Template</div>
                            <div class="template-description">Multi-session event with multiple speakers</div>
                        </div>
                        <div class="template-item" onclick="applyTemplate('networking')">
                            <div class="template-title">Networking Template</div>
                            <div class="template-description">Social event for community building</div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-card">
                    <h3 class="sidebar-title">Quick Actions</h3>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <button class="btn btn-secondary" onclick="importFromCalendar()">📅 Import from Calendar</button>
                        <button class="btn btn-secondary" onclick="viewEventGuidelines()">📋 Event Guidelines</button>
                        <button class="btn btn-secondary" onclick="contactSupport()">💬 Need Help?</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Speaker Modal -->
    <div class="modal" id="speakerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Speaker</h2>
                <button class="close-btn" onclick="closeModal('speakerModal')">&times;</button>
            </div>
            <form id="speakerForm">
                <div class="form-group">
                    <label class="form-label required" for="speakerName">Speaker Name</label>
                    <input type="text" id="speakerName" class="form-input" placeholder="Enter speaker's full name" required>
                </div>
                <div class="form-group">
                    <label class="form-label required" for="speakerTitle">Title/Role</label>
                    <input type="text" id="speakerTitle" class="form-input" placeholder="e.g., AI Ethics Researcher" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="speakerOrganization">Organization</label>
                    <input type="text" id="speakerOrganization" class="form-input" placeholder="Speaker's organization">
                </div>
                <div class="form-group">
                    <label class="form-label" for="speakerBio">Bio</label>
                    <textarea id="speakerBio" class="form-textarea" placeholder="Brief speaker biography..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label" for="speakerEmail">Email</label>
                    <input type="email" id="speakerEmail" class="form-input" placeholder="Speaker's email address">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('speakerModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Speaker</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Preview Modal -->
    <div class="modal" id="previewModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 class="modal-title">Event Preview</h2>
                <button class="close-btn" onclick="closeModal('previewModal')">&times;</button>
            </div>
            <div id="previewContent">
                <!-- Preview content will be generated here -->
            </div>
            <div class="form-actions">
                <button class="btn btn-secondary" onclick="closeModal('previewModal')">Close</button>
                <button class="btn btn-primary" onclick="submitFromPreview()">Create Event</button>
            </div>
        </div>
    </div>

    <script>
        let speakers = [];
        let customTags = [];

        // Progress tracking
        function updateProgress() {
            const requiredFields = [
                'eventTitle', 'eventDescription', 'eventType', 'eventFormat',
                'eventDate', 'eventTime', 'eventTimezone', 'registrationRequired'
            ];
            
            let completed = 0;
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field && field.value.trim() !== '') {
                    completed++;
                }
            });
            
            const percentage = Math.round((completed / requiredFields.length) * 100);
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '% Complete';
        }

        // Add event listeners for progress tracking
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('input', updateProgress);
                input.addEventListener('change', updateProgress);
            });
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('eventDate').setAttribute('min', today);
            document.getElementById('registrationDeadline').setAttribute('min', today);
        });

        // Tag management
        document.getElementById('tagInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                addTag();
            }
        });

        function addTag() {
            const input = document.getElementById('tagInput');
            const tag = input.value.trim();
            
            if (tag && !customTags.includes(tag)) {
                customTags.push(tag);
                renderTags();
                input.value = '';
            }
        }

        function removeTag(tag) {
            customTags = customTags.filter(t => t !== tag);
            renderTags();
        }

        function renderTags() {
            const container = document.getElementById('tagContainer');
            const input = document.getElementById('tagInput');
            
            // Clear existing tags
            const existingTags = container.querySelectorAll('.tag-item');
            existingTags.forEach(tag => tag.remove());
            
            // Add tags
            customTags.forEach(tag => {
                const tagElement = document.createElement('div');
                tagElement.className = 'tag-item';
                tagElement.innerHTML = `
                    <span>${tag}</span>
                    <span class="tag-remove" onclick="removeTag('${tag}')">&times;</span>
                `;
                container.insertBefore(tagElement, input);
            });
        }

        // Speaker management
        function addSpeaker() {
            document.getElementById('speakerModal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            if (modalId === 'speakerModal') {
                document.getElementById('speakerForm').reset();
            }
        }

        document.getElementById('speakerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const speaker = {
                name: document.getElementById('speakerName').value,
                title: document.getElementById('speakerTitle').value,
                organization: document.getElementById('speakerOrganization').value,
                bio: document.getElementById('speakerBio').value,
                email: document.getElementById('speakerEmail').value
            };
            
            speakers.push(speaker);
            renderSpeakers();
            closeModal('speakerModal');
        });

        function renderSpeakers() {
            const container = document.getElementById('speakerList');
            container.innerHTML = '';
            
            speakers.forEach((speaker, index) => {
                const speakerElement = document.createElement('div');
                speakerElement.className = 'speaker-item';
                speakerElement.innerHTML = `
                    <div class="speaker-avatar">${speaker.name.split(' ').map(n => n[0]).join('')}</div>
                    <div class="speaker-info">
                        <div class="speaker-name">${speaker.name}</div>
                        <div class="speaker-title">${speaker.title}${speaker.organization ? ' • ' + speaker.organization : ''}</div>
                    </div>
                    <div class="speaker-actions">
                        <button type="button" class="btn btn-secondary btn-small" onclick="editSpeaker(${index})">Edit</button>
                        <button type="button" class="btn btn-danger btn-small" onclick="removeSpeaker(${index})">Remove</button>
                    </div>
                `;
                container.appendChild(speakerElement);
            });
        }

        function removeSpeaker(index) {
            speakers.splice(index, 1);
            renderSpeakers();
        }

        function editSpeaker(index) {
            const speaker = speakers[index];
            document.getElementById('speakerName').value = speaker.name;
            document.getElementById('speakerTitle').value = speaker.title;
            document.getElementById('speakerOrganization').value = speaker.organization;
            document.getElementById('speakerBio').value = speaker.bio;
            document.getElementById('speakerEmail').value = speaker.email;
            
            // Remove current speaker and open modal for editing
            speakers.splice(index, 1);
            renderSpeakers();
            document.getElementById('speakerModal').classList.add('active');
        }

        // File upload
        document.getElementById('fileUpload').addEventListener('click', function() {
            document.getElementById('materialFiles').click();
        });

        document.getElementById('materialFiles').addEventListener('change', function(e) {
            const files = e.target.files;
            if (files.length > 0) {
                const fileNames = Array.from(files).map(file => file.name).join(', ');
                document.querySelector('.upload-text').textContent = `Selected: ${fileNames}`;
            }
        });

        // Drag and drop
        const fileUpload = document.getElementById('fileUpload');
        fileUpload.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.classList.add('dragover');
        });

        fileUpload.addEventListener('dragleave', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
        });

        fileUpload.addEventListener('drop', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                document.getElementById('materialFiles').files = files;
                const fileNames = Array.from(files).map(file => file.name).join(', ');
                document.querySelector('.upload-text').textContent = `Selected: ${fileNames}`;
            }
        });

        // Form validation
        function validateForm() {
            const errors = [];
            
            // Required fields
            const requiredFields = [
                { id: 'eventTitle', name: 'Event Title' },
                { id: 'eventDescription', name: 'Event Description' },
                { id: 'eventType', name: 'Event Type' },
                { id: 'eventFormat', name: 'Event Format' },
                { id: 'eventDate', name: 'Event Date' },
                { id: 'eventTime', name: 'Start Time' },
                { id: 'eventTimezone', name: 'Timezone' },
                { id: 'registrationRequired', name: 'Registration Required' }
            ];
            
            requiredFields.forEach(field => {
                const element = document.getElementById(field.id);
                if (!element.value.trim()) {
                    errors.push(`${field.name} is required`);
                    element.classList.add('error');
                } else {
                    element.classList.remove('error');
                }
            });
            
            // Date validation
            const eventDate = document.getElementById('eventDate').value;
            const registrationDeadline = document.getElementById('registrationDeadline').value;
            
            if (eventDate && registrationDeadline) {
                if (new Date(registrationDeadline) >= new Date(eventDate)) {
                    errors.push('Registration deadline must be before the event date');
                }
            }
            
            return errors;
        }

        // Preview functionality
        function previewEvent() {
            const errors = validateForm();
            if (errors.length > 0) {
                showValidationErrors(errors);
                return;
            }
            
            generatePreview();
            document.getElementById('previewModal').classList.add('active');
        }

        function generatePreview() {
            const title = document.getElementById('eventTitle').value;
            const description = document.getElementById('eventDescription').value;
            const type = document.getElementById('eventType').value;
            const format = document.getElementById('eventFormat').value;
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const location = document.getElementById('eventLocation').value;
            
            const formatDate = new Date(date).toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const selectedTopics = Array.from(document.querySelectorAll('input[name="topics"]:checked'))
                .map(cb => cb.nextElementSibling.textContent);
            
            const allTags = [...selectedTopics, ...customTags];
            
            const previewContent = `
                <div class="preview-card">
                    <div class="preview-title">${title}</div>
                    <div class="preview-meta">
                        📅 ${formatDate} • ⏰ ${time} • 📍 ${location || format} • 🎯 ${type}
                    </div>
                    <div class="preview-description">${description}</div>
                    <div class="preview-tags">
                        ${allTags.map(tag => `<span class="preview-tag">${tag}</span>`).join('')}
                    </div>
                </div>
                ${speakers.length > 0 ? `
                    <div class="preview-card">
                        <h3>Speakers</h3>
                        ${speakers.map(speaker => `
                            <div style="margin-bottom: 1rem;">
                                <strong>${speaker.name}</strong> - ${speaker.title}
                                ${speaker.organization ? `<br><em>${speaker.organization}</em>` : ''}
                            </div>
                        `).join('')}
                    </div>
                ` : ''}
            `;
            
            document.getElementById('previewContent').innerHTML = previewContent;
        }

        function showValidationErrors(errors) {
            const existingSummary = document.querySelector('.validation-summary');
            if (existingSummary) {
                existingSummary.remove();
            }
            
            const summary = document.createElement('div');
            summary.className = 'validation-summary';
            summary.innerHTML = `
                <h4>Please fix the following errors:</h4>
                <ul>
                    ${errors.map(error => `<li>${error}</li>`).join('')}
                </ul>
            `;
            
            document.querySelector('.form-container').insertBefore(summary, document.querySelector('.form-section'));
            summary.scrollIntoView({ behavior: 'smooth' });
        }

        // Template functions
        function applyTemplate(templateType) {
            const templates = {
                workshop: {
                    title: 'AI Ethics Workshop: [Topic]',
                    description: 'Interactive workshop exploring practical applications of AI ethics principles. Participants will engage in hands-on activities and collaborative discussions.',
                    type: 'workshop',
                    format: 'hybrid',
                    duration: '2',
                    topics: ['ai-ethics', 'education']
                },
                webinar: {
                    title: '[Topic] Webinar: [Specific Focus]',
                    description: 'Educational webinar featuring expert presentations followed by interactive Q&A session.',
                    type: 'webinar',
                    format: 'virtual',
                    duration: '1.5',
                    topics: ['education', 'research']
                },
                conference: {
                    title: 'DCF [Location] Conference: [Theme]',
                    description: 'Multi-day conference bringing together global experts in AI ethics and human-centered technology.',
                    type: 'conference',
                    format: 'hybrid',
                    duration: '8',
                    topics: ['ai-ethics', 'technology', 'policy']
                },
                networking: {
                    title: '[City] Networking Event: [Theme]',
                    description: 'Informal networking event for DCF community members to connect and share ideas.',
                    type: 'networking',
                    format: 'in-person',
                    duration: '2',
                    topics: ['social-teaching']
                }
            };
            
            const template = templates[templateType];
            if (template) {
                document.getElementById('eventTitle').value = template.title;
                document.getElementById('eventDescription').value = template.description;
                document.getElementById('eventType').value = template.type;
                document.getElementById('eventFormat').value = template.format;
                document.getElementById('eventDuration').value = template.duration;
                
                // Check relevant topic checkboxes
                template.topics.forEach(topic => {
                    const checkbox = document.getElementById(`topic-${topic}`);
                    if (checkbox) checkbox.checked = true;
                });
                
                updateProgress();
            }
        }

        // Form submission
        document.getElementById('eventCreationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const errors = validateForm();
            if (errors.length > 0) {
                showValidationErrors(errors);
                return;
            }
            
            // Collect all form data
            const formData = new FormData(this);
            const eventData = {
                title: document.getElementById('eventTitle').value,
                description: document.getElementById('eventDescription').value,
                type: document.getElementById('eventType').value,
                format: document.getElementById('eventFormat').value,
                date: document.getElementById('eventDate').value,
                time: document.getElementById('eventTime').value,
                duration: document.getElementById('eventDuration').value,
                timezone: document.getElementById('eventTimezone').value,
                location: document.getElementById('eventLocation').value,
                capacity: document.getElementById('eventCapacity').value,
                language: document.getElementById('eventLanguage').value,
                registrationRequired: document.getElementById('registrationRequired').value,
                registrationDeadline: document.getElementById('registrationDeadline').value,
                cost: document.getElementById('eventCost').value,
                price: document.getElementById('eventPrice').value,
                prerequisites: document.getElementById('prerequisites').value,
                agenda: document.getElementById('eventAgenda').value,
                additionalInfo: document.getElementById('additionalInfo').value,
                coOrganizers: document.getElementById('coOrganizers').value,
                topics: Array.from(document.querySelectorAll('input[name="topics"]:checked')).map(cb => cb.value),
                audience: Array.from(document.querySelectorAll('input[name="audience"]:checked')).map(cb => cb.value),
                tags: customTags,
                speakers: speakers,
                materials: document.getElementById('materialFiles').files
            };
            
            console.log('Event data:', eventData);
            
            // Simulate successful creation
            alert('Event created successfully! You will be redirected to the event details page.');
            window.location.href = 'dcf_event_details.html';
        });

        // Other functions
        function saveAsDraft() {
            alert('Event saved as draft!');
        }

        function submitFromPreview() {
            closeModal('previewModal');
            document.getElementById('eventCreationForm').dispatchEvent(new Event('submit'));
        }

        function cancelEvent() {
            if (confirm('Are you sure you want to cancel? All entered data will be lost.')) {
                window.location.href = 'dcf_events_calendar.html';
            }
        }

        function importFromCalendar() {
            alert('Calendar import functionality would be implemented here.');
        }

        function viewEventGuidelines() {
            alert('Event guidelines would be displayed here.');
        }

        function contactSupport() {
            alert('Support contact form would be implemented here.');
        }

        // Close modals when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal(this.id);
                }
            });
   });

        // User menu functionality
        let isDropdownOpen = false;

        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            const overlay = getOrCreateOverlay();
            
            if (isDropdownOpen) {
                closeUserMenu();
            } else {
                openUserMenu();
            }
        }

        function openUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            const overlay = getOrCreateOverlay();
            
            dropdown.classList.add('active');
            overlay.classList.add('active');
            isDropdownOpen = true;
            
            updateUserDropdownInfo();
        }

        function closeUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            const overlay = document.querySelector('.dropdown-overlay');
            
            dropdown.classList.remove('active');
            if (overlay) overlay.classList.remove('active');
            isDropdownOpen = false;
        }

        function getOrCreateOverlay() {
            let overlay = document.querySelector('.dropdown-overlay');
            if (!overlay) {
                overlay = document.createElement('div');
                overlay.className = 'dropdown-overlay';
                overlay.onclick = closeUserMenu;
                document.body.appendChild(overlay);
            }
            return overlay;
        }

        function updateUserDropdownInfo() {
            const userName = localStorage.getItem('dcf_user_name') || 'Dr. Sarah Johnson';
            const userEmail = localStorage.getItem('dcf_user_email') || 'sarah.johnson@dcfhungary.org';
            const authProvider = localStorage.getItem('dcf_auth_provider') || 'demo';

            const nameElement = document.getElementById('dropdownUserName');
            const emailElement = document.getElementById('dropdownUserEmail');

            if (nameElement) nameElement.textContent = userName;
            if (emailElement) emailElement.textContent = userEmail;

            const initials = generateInitials(userName);
            const avatarElement = document.getElementById('userAvatar');
            const dropdownAvatarElement = document.querySelector('.dropdown-avatar');

            if (avatarElement) avatarElement.textContent = initials;
            if (dropdownAvatarElement) dropdownAvatarElement.textContent = initials;

            if (authProvider === 'github') {
                if (emailElement) emailElement.textContent = `${userEmail} (GitHub)`;
            }
        }

        function generateInitials(name) {
            if (!name) return 'SJ';
            const parts = name.split(' ');
            if (parts.length >= 2) {
                return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();
            }
            return name.substring(0, 2).toUpperCase();
        }

        function logout() {
            if (confirm('Are you sure you want to sign out?')) {
                localStorage.removeItem('dcf_github_session');
                localStorage.removeItem('dcf_user_logged_in');
                localStorage.removeItem('dcf_user_name');
                localStorage.removeItem('dcf_user_email');
                localStorage.removeItem('dcf_auth_provider');
                localStorage.removeItem('dcf_remember_login');

                sessionStorage.clear();

                alert('You have been signed out successfully.');
                window.location.href = 'dcf_login_page.html';
            }
        }

        // Initialize user menu on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateUserDropdownInfo();

            // Check if user is logged in
            const isLoggedIn = localStorage.getItem('dcf_user_logged_in');
            if (isLoggedIn !== 'true') {
                alert('Please log in to access member pages.');
                window.location.href = 'dcf_login_page.html';
            }

            // Close dropdown on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && isDropdownOpen) {
                    closeUserMenu();
                }
            });
        });
    </script>
</body>
</html>